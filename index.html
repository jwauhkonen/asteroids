<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Asteroids</title>
		<link rel="stylesheet" type="text/css" href="css/asteroids.css">
	</head>
	<body>
		<canvas id="game-canvas"></canvas>
		
		<script src="lib/keymaster.js"></script>
		<script src="lib/util.js"></script>
		<script src="lib/movingObject.js"></script>
		<script src="lib/asteroid.js"></script>
		<script src="lib/ship.js"></script>
		<script src="lib/bullet.js"></script>
		<script src="lib/game.js"></script>
		<script src="lib/gameView.js"></script>
		
		
		<script>
			var canvasEl = document.getElementById("game-canvas");
			canvasEl.width = 800;
			canvasEl.height = 550;
			var imageObj = new Image();
			var images = new Array();
			
			var ctx = canvasEl.getContext("2d");
			var game = new Asteroids.Game(canvasEl.width, canvasEl.height, images);
			
			var newGame = function () {
				new Asteroids.GameView(
					game,
					ctx
				).start();
			}
			
			// preload images
			
			images[0] = 'images/background.jpg';
			images[1] = 'images/spaceship.png';
			images[2] = 'images/asteroid.png';
			
			var numLoaded = 0
			imageObj.onload = function () {
				newGame();
			}
			
			for (var i = 0; i < images.length; i++) {
				imageObj.src = images[i];
			}
		</script>
	</body>
</html>